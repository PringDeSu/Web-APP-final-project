how to run: first install docker
run: 
	docker build -t <any name for this image> .
	docker run -p 3000:<backend_port_number> <the name for image> -e BACKEND_SERVER_PORT=<backend port number>

usages: 
	基本上跑起來之後就可以用了，可以在 <server_ip>:<server_port>/api/post 送出 POST request, 並且上傳一個檔案。之後，該程式碼會將檔案剪成 300 second 以下，並且進行取樣分析（取樣頻率為 sample_rate）分析，回傳以下資料：
		- 'features': 一個 json 格式，其中包含以下資訊
			- 'sample_rate'      :浮點數，表示多久取樣一次
			- 'highest_frequency': 浮點數陣列，表示每個取樣時間點的最高頻率位置
			- 'amplitude'        : 浮點數陣列，表示當時的音量大小
			- 'chord'            : 浮點數陣列，表示當時的和弦(值域為 0.5 ~ 12 ，為 C ~ B 和弦，包含半音），注意到歌曲剛開始會自動以 C 大調開始，即使歌曲剛開始時無法識別和弦。如果是小調會 -0.5
		- 'fileInfo'：一個 json 格式，其中包含以下資訊
			- 'originalName': 字串，api 在 POST 時接收到的檔案名稱
			- 'originalPath': 字串，api 在 POST 時儲存檔案的路徑
			- 'outputPath':   字串，剪成 300 秒以下的檔案後儲存路徑
			- 'outputName':   字串，剪成 300 秒以下的檔案後儲存名稱
		
	其中，處理完成的聲音檔案可以用 <server_ip>:<server_port>/api/upload/<outputName> 取得

運作細節：
	- trim_sound.sh: 負責剪檔案，並且將檔名轉為其 sha256sum (為了方便日後進行快取)。如果檔案已經存在則跳過
	- feature_extractor.py: 負責音樂的資料擷取，取得音高和弦等等。如果之前作過該檔案(sha256sum 有出現過) 就跳過
	- api.py: 負責 flask 的運行以及對外的功能

example:(YT 上找不到比這個短的音樂了QQ)
{"features":{
	"amplitude":[0.44118738174438477,34.320701599121094,5.251758575439453,31.566240310668945,68.40068817138672,56.16386032104492,59.672908782958984,60.7584228515625,56.162376403808594,10.541019439697266,6.252705097198486,12.386856079101562,34.40635681152344,36.79010772705078,40.716796875,31.180349349975586,31.953372955322266,45.78779983520508,39.9287223815918,37.08951950073242,30.017789840698242,8.710588455200195,12.490840911865234,11.130027770996094,42.586212158203125,45.77770233154297,41.77739334106445,49.84505081176758,45.55146026611328,43.777137756347656,7.893065452575684,4.406375885009766,9.934630393981934,9.914715766906738,5.202549457550049,12.602791786193848,45.95781707763672,52.813236236572266,47.3166389465332,46.14452362060547,49.09938049316406,12.212287902832031,8.4370698928833,7.6873369216918945,50.961387634277344,63.56617736816406,60.76839065551758,68.25347137451172,73.20610809326172,69.45851135253906,8.277739524841309,4.170718193054199,4.3531670570373535,4.124635696411133,4.201079368591309,3.9067931175231934,48.71678924560547,67.72151947021484,67.5515365600586,55.83053970336914,58.11419677734375,61.24214172363281,69.16496276855469,1.7179276943206787,2.8358347415924072,8.675395965576172,33.998291015625,58.64824676513672,55.94051742553711,61.50634765625,53.73922348022461,54.18246841430664,15.57481575012207,14.320026397705078,41.81782913208008,38.55277633666992,43.02727508544922,37.361671447753906,41.738983154296875,43.64585494995117,38.93474578857422,10.521844863891602,7.551718235015869,15.3897705078125,15.858011245727539,8.322188377380371,19.62333106994629,37.396644592285156,46.847381591796875,41.1883544921875,44.6165885925293,18.006364822387695,2.770599603652954,1.746964931488037,2.1568150520324707,10.688362121582031,47.951438903808594,70.65813446044922,73.64191436767578,81.19940185546875,57.679595947265625,63.101036071777344,53.92715072631836,32.776119232177734,55.704166412353516,59.750648498535156,55.6943359375,34.276214599609375,36.460052490234375,79.63333892822266,96.19882202148438,109.58757781982422,118.15769958496094,109.72166442871094,59.56041717529297,4.435747146606445,33.091285705566406,83.1907958984375,93.66764831542969,104.88980102539062,106.76317596435547,113.26661682128906,108.12745666503906,41.960296630859375,111.11729431152344,53.76605224609375,38.27833557128906,69.91513061523438,90.48419189453125,78.48056030273438,113.29725646972656,126.7578125,122.22785186767578,123.70919799804688,92.69432830810547,138.22618103027344,94.20392608642578,16.85213851928711,92.75335693359375,56.357364654541016,45.83644104003906,34.955848693847656,117.5467300415039,153.03201293945312,159.01695251464844,156.61326599121094,47.303829193115234,97.95123291015625,44.63894271850586,6.212646484375],
	"chord":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
	"highest_frequency":[796.728515625,785.9619140625,785.9619140625,785.9619140625,1991.8212890625,2088.720703125,2217.919921875,2250.2197265625,2444.0185546875,1055.126953125,1087.4267578125,193.798828125,247.6318359375,247.6318359375,1475.0244140625,1281.2255859375,1195.0927734375,1647.2900390625,1431.9580078125,1614.990234375,430.6640625,452.197265625,1108.9599609375,430.6640625,2379.4189453125,1367.3583984375,2196.38671875,1431.9580078125,1496.5576171875,1550.390625,430.6640625,979.7607421875,441.4306640625,279.931640625,301.46484375,516.796875,1453.4912109375,3843.6767578125,3865.2099609375,3176.1474609375,3348.4130859375,581.396484375,592.1630859375,581.396484375,2164.0869140625,2368.65234375,2444.0185546875,2347.119140625,4209.7412109375,2594.7509765625,1485.791015625,592.1630859375,6664.5263671875,5469.43359375,796.728515625,6083.1298828125,462.9638671875,2304.052734375,818.26171875,2465.5517578125,2347.119140625,2508.6181640625,2508.6181640625,0.0,850.5615234375,893.6279296875,2950.048828125,1690.3564453125,1744.189453125,1593.45703125,2691.650390625,4694.23828125,656.7626953125,64.599609375,32.2998046875,473.73046875,484.4970703125,43.06640625,1130.4931640625,473.73046875,473.73046875,473.73046875,43.06640625,495.263671875,495.263671875,86.1328125,64.599609375,1227.392578125,1916.455078125,1270.458984375,376.8310546875,419.8974609375,53.8330078125,64.599609375,1324.2919921875,3897.509765625,226.0986328125,1302.7587890625,1367.3583984375,1238.1591796875,1378.125,322.998046875,355.2978515625,366.064453125,6233.8623046875,9205.4443359375,7859.619140625,6147.7294921875,3617.578125,1399.658203125,3359.1796875,4134.375,2476.318359375,3111.5478515625,2207.1533203125,2260.986328125,236.865234375,2067.1875,3865.2099609375,4102.0751953125,2325.5859375,2551.6845703125,2680.8837890625,2207.1533203125,527.5634765625,506.0302734375,430.6640625,796.728515625,1302.7587890625,2390.185546875,473.73046875,516.796875,2519.384765625,2573.2177734375,1991.8212890625,2013.3544921875,2357.8857421875,107.666015625,279.931640625,258.3984375,258.3984375,258.3984375,2357.8857421875,4134.375,2422.4853515625,2487.0849609375,269.1650390625,150.732421875,279.931640625,139.9658203125],
	"sample_rate":0.09287981859410431
},
"fileInfo":{
	"apiPath":"/api/upload/1d3598e961030c3c2eee5c78f869235edd1808caf589ae2a34fe9fab53e3b9f5.wav",
	"originalName":"hah.wav",
	"originalPath":"./input/20250523151911_hah.wav",
	"outputName":"1d3598e961030c3c2eee5c78f869235edd1808caf589ae2a34fe9fab53e3b9f5.wav",
	"outputPath":"./output/1d3598e961030c3c2eee5c78f869235edd1808caf589ae2a34fe9fab53e3b9f5.wav"
},
"message":"File uploaded successfully"}

